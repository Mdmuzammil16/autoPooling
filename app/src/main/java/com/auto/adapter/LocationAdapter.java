package com.auto.adapter;import android.app.Activity;import android.content.Intent;import android.util.Log;import android.view.LayoutInflater;import android.view.ViewGroup;import androidx.annotation.NonNull;import androidx.recyclerview.widget.RecyclerView;import com.android.volley.Request;import com.android.volley.RequestQueue;import com.android.volley.toolbox.StringRequest;import com.android.volley.toolbox.Volley;import com.auto.pooling.databinding.LocationItemBinding;import org.json.JSONException;import org.json.JSONObject;import java.util.ArrayList;public class LocationAdapter extends RecyclerView.Adapter<LocationAdapter.Holder> {    private Activity activity;    private ArrayList<JSONObject> poolingList;    public LocationAdapter(Activity activity, ArrayList<JSONObject> poolingList) {        this.activity = activity;        this.poolingList = poolingList;    }    @NonNull    @Override    public LocationAdapter.Holder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {        LocationItemBinding binding = LocationItemBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);        return new LocationAdapter.Holder(binding);    }    @Override    public void onBindViewHolder(@NonNull LocationAdapter.Holder holder, int position) {        try {            String description = poolingList.get(position).getString("description");            holder.binding.addressText.setText(description);            holder.binding.getRoot().setOnClickListener(view -> {                try {                    getPlaceDetails(poolingList.get(position).getString("place_id"),description);                } catch (JSONException e) {                }            });        } catch (JSONException e) {        }    }    public static class Holder extends RecyclerView.ViewHolder {        LocationItemBinding binding;        public Holder(@NonNull LocationItemBinding binding) {            super(binding.getRoot());            this.binding = binding;        }    }    private void getPlaceDetails(String placeId, String description) {        String apiKey = "AIzaSyB24Hrv9znLj4PB1Aryc7a3kd3EzwJ9dZk";        String url = "https://maps.googleapis.com/maps/api/place/details/json?place_id=" + placeId + "&key=" + apiKey;        RequestQueue requestQueue = Volley.newRequestQueue(activity.getApplicationContext());        StringRequest stringRequest = new StringRequest(Request.Method.GET, url,                response -> {                    try {                        JSONObject jsonObject = new JSONObject(response);                        JSONObject result = jsonObject.getJSONObject("result");                        JSONObject geometry = result.getJSONObject("geometry");                        JSONObject location = geometry.getJSONObject("location");                        double latitude = location.getDouble("lat");                        double longitude = location.getDouble("lng");                        Intent intent = new Intent();                        intent.putExtra("location", "" + description);                        activity.setResult(200, intent);                        activity.finish();                    } catch (Exception e) {                        Log.d("fazilApp", "Error parsing Place Details: " + e.getMessage());                    }                },                error -> {                    Log.d("fazilApp", "Error fetching Place Details: " + error.getMessage());                });        requestQueue.add(stringRequest);    }    @Override    public int getItemCount() {        return poolingList.size();    }}